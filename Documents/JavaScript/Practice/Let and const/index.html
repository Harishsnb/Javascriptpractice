<!DOCTYPE html>
<html>
<head>
	<title> let keyword</title>
</head>
<body>

	<script type="text/javascript">
		
	/*var let and const are used for variable declaration in javascript but var has only global and function scope
	where as let and const have block scope also. Therefore, if the value of a variable is changed in a loop or
	block by using let/const keyword, will not change the value of variable out side the block. */

	/*Global Scope
	Variables declared Globally (outside any function) have Global Scope.*/
	
	//var carName = "Volvo";

    // code here can use carName

    /*function myFunction() {
     // code here can also use carName
    }*/ //Global variables can be accessed from anywhere in a JavaScript program.

    //function scope - Variables declared Locally (inside a function) have Function Scope.

    // code here can NOT use carName

     /*function myFunction() {
      var carName = "Volvo";
      // code here CAN use carName
    }*/

     // code here can NOT use carName

     /*JavaScript Block Scope Variables declared with the var keyword cannot have Block Scope.
     Variables declared inside a block {} can be accessed from outside the block.
     */

     /*{
        var x = 2;
     }*/
     // x CAN be used here

     /*Variables declared with the let keyword can have Block Scope.Variables declared inside a block {} cannot be 
     accessed from outside the block:*/

     /*{
        let x = 2;
     }*/
     // x can NOT be used here

     var x = 10;
     document.write("value of x outside the block: "+ x + "</br>");// Here x is 10
     {
       var x = 2;
       document.write("value of x inside the block: "+ x + "</br>");
      // Here x is 2
     }
     document.write("value of x outside the block changes: "+ x + "</br>"); // Here x is 2

     //Redeclaring a variable using the let keyword can solve this problem.
     //Redeclaring a variable inside a block will not redeclare the variable outside the block:


     var x = 10;
     // Here x is 10
    {
      let x = 4;
     // Here x is 2
     document.write("value of x inside the block: "+ x + "</br>");
    }
     document.write("value of x outside the block does not changes when the variable inside the block is defined with let: "+ x + "</br>");// Here x is 10

     let y = 10; //if you declare let x = 2, you will get an error "Identifier 'x' has already been declared"

     //Note: let will allow you to declare a variable within a block even it is declared globally. But outside the block, it doesnot allow you to redeclare a variable that is declared globally.

     document.write("value of y outside the block: "+ y + "</br>");// Here y is 10
     {
       let y = 2;
       document.write("value of y inside the block: "+ y + "</br>");
      // Here y is 2
     }
     document.write("value of y outside the block does not changes: "+ y + "</br>"); // Here y is 10

     //in loops 
     var i = 5;
     document.write("value of i outside the loop : "+ i + "</br>");
     for (var i = 0; i < 10; i++) {
        console.log(i);
     }
    document.write("value of i outside the loop changes : "+ i + "</br>"); // Here i is 10

    var j = 5;
     document.write("value of j outside the loop : "+ j + "</br>");
     for (let j = 0; j < 10; j++) {
        console.log(j);
     }
    document.write("value of j outside the loop does not changes : "+ j + "</br>"); // here it is 5 

    //Variables declared with var and let are quite similar when declared inside a function. They will both have Function Scope:
    /*With JavaScript, the global scope is the JavaScript environment.

    In HTML, the global scope is the window object.

    Global variables defined with the var keyword belong to the window object:*/

    var carName = "Volvo";
    document.write(window.carName + "</br>");  // code here can use window.carName

    //Global variables defined with the let keyword do not belong to the window object:
    let carName1 = "Volvo";
    document.write(window.carName1 + "</br>"); // code here cannot use window.carName1 returns undefined

    //Important notes
    // varaible with let keyword can be redeclared only in another scope. They cannot be redeclred in the same scope. 
    document.write("Redeclaring a JavaScript variable with var is allowed anywhere in a program" + "</br>");
    document.write("Redeclaring a var variable with let, in the same scope, or in the same block, is not allowed"  + "</br>");
    document.write("Redeclaring a let variable with let, in the same scope, or in the same block, is not allowed"  + "</br>");
    document.write("Redeclaring a let variable with var, in the same scope, or in the same block, is not allowed"  + "</br>");
    document.write("Redeclaring a variable with let, in another scope, or in another block, is allowed" + "</br>");

    
    //Variables defined with var are hoisted to the top and can be initialized at any time. You can use the variable before it is declared:

   

    document.write("Variables defined with var are hoisted to the top and can be initialized at any time." + "</br>");
    document.write("The value of b: " + b + "</br>"); //undefined 
    var b;


    //Variables defined with let are hoisted to the top of the block, but not initialized.The block of code is aware of the variable, but it cannot be used until it has been declared. Using a let variable before it is declared will result in a ReferenceError.
    
    document.write("Variables defined with let are hoisted to the top and cannot be initialized at any time. not even assigned the value as undefined. Only throws ReferenceError." + "</br>");
    try{ 

    	console.log(a); 
    	//importatnt note
    	/*This is the Temporal Dead Zone where we’re trying to access a variable that has not yet been initialized (it has been declared and therefore exists, but has no value, not even undefined)*/
    }
    catch(error){
    	document.write(error.name + " " + error.message + "</br>");
    }
    
    let a; 
   
   // Important note: 
   /*It’s common to hear the phrase, “let/const don’t hoist” as a shorthand to remember this behavior. But technically something else is going on.

   When we use the var keyword, two things actually happen:
   1) at compile time, the variable is added to the enclosing lexical scope
   2) at runtime, when the scope is entered any variables added to the lexical environment are initialized to the undefined value so they are available to use in the scope

   The let and const keywords do step 1– so technically they do hoist–but not step 2, the assignment to undefined. Therefore it’s more accurate to say that let/const do hoist but don’t get initialized.
    */
    



	</script>

</body>
</html>